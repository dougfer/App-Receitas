{"ast":null,"code":"import _slicedToArray from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import whiteHeartIcon from\"../images/whiteHeartIcon.svg\";import blackHeartIcon from\"../images/blackHeartIcon.svg\";import setFavoritos,{isfavoriteRecipe}from'../services/setFavoritos';function FavoriteBtn(_ref){var objDetail=_ref.objDetail,urlText=_ref.urlText,id=_ref.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFavorite=_useState2[0],setIsFavorite=_useState2[1];useEffect(function(){isfavoriteRecipe(id,setIsFavorite);},[]);var removeFavorite=function removeFavorite(){var favoriteRecipes=JSON.parse(localStorage.getItem('favoriteRecipes'));var updatedFavorites=favoriteRecipes.filter(function(elem){return elem.id!==id;});localStorage.setItem('favoriteRecipes',JSON.stringify(updatedFavorites));isfavoriteRecipe(id,setIsFavorite);};var onClickFavorite=function onClickFavorite(){if(isFavorite===true){return removeFavorite();}return setFavoritos(objDetail[0],urlText,id,setIsFavorite);};return/*#__PURE__*/React.createElement(\"input\",{className:\"favorite-btn\",onClick:function onClick(){return onClickFavorite();},type:\"image\",\"data-testid\":\"favorite-btn\",src:isFavorite?blackHeartIcon:whiteHeartIcon,alt:\"foto do item\"});}export default FavoriteBtn;","map":{"version":3,"sources":["/home/douglas/Área de Trabalho/Projetos em geral/App-Receitas/src/components/FavoriteBtn.js"],"names":["React","useState","useEffect","setFavoritos","isfavoriteRecipe","FavoriteBtn","objDetail","urlText","id","isFavorite","setIsFavorite","removeFavorite","favoriteRecipes","JSON","parse","localStorage","getItem","updatedFavorites","filter","elem","setItem","stringify","onClickFavorite","blackHeartIcon","whiteHeartIcon"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,kHAIA,MAAOC,CAAAA,YAAP,EAAuBC,gBAAvB,KAA+C,0BAA/C,CAEA,QAASC,CAAAA,WAAT,MAAiD,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,OAAe,MAAfA,OAAe,CAANC,EAAM,MAANA,EAAM,eACXP,QAAQ,CAAC,KAAD,CADG,wCACxCQ,UADwC,eAC5BC,aAD4B,eAG/CR,SAAS,CAAC,UAAM,CACdE,gBAAgB,CAACI,EAAD,CAAKE,aAAL,CAAhB,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAxB,CACA,GAAMC,CAAAA,gBAAgB,CAAGL,eAAe,CAACM,MAAhB,CAAuB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACX,EAAL,GAAYA,EAAtB,EAAvB,CAAzB,CACAO,YAAY,CAACK,OAAb,CAAqB,iBAArB,CAAwCP,IAAI,CAACQ,SAAL,CAAeJ,gBAAf,CAAxC,EACAb,gBAAgB,CAACI,EAAD,CAAKE,aAAL,CAAhB,CACD,CALD,CAOA,GAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAIb,UAAU,GAAK,IAAnB,CAAyB,CACvB,MAAOE,CAAAA,cAAc,EAArB,CACD,CACD,MAAOR,CAAAA,YAAY,CAACG,SAAS,CAAC,CAAD,CAAV,CAAeC,OAAf,CAAwBC,EAAxB,CAA4BE,aAA5B,CAAnB,CACD,CALD,CAOA,mBACE,6BACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAG,yBAAMY,CAAAA,eAAe,EAArB,EAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,cAAY,cAJd,CAKE,GAAG,CAAGb,UAAU,CAAGc,cAAH,CAAoBC,cALtC,CAME,GAAG,CAAC,cANN,EADF,CAUD,CAUD,cAAenB,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport setFavoritos, { isfavoriteRecipe } from '../services/setFavoritos';\n\nfunction FavoriteBtn({ objDetail, urlText, id }) {\n  const [isFavorite, setIsFavorite] = useState(false);\n\n  useEffect(() => {\n    isfavoriteRecipe(id, setIsFavorite);\n  }, []);\n\n  const removeFavorite = () => {\n    const favoriteRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    const updatedFavorites = favoriteRecipes.filter((elem) => elem.id !== id);\n    localStorage.setItem('favoriteRecipes', JSON.stringify(updatedFavorites));\n    isfavoriteRecipe(id, setIsFavorite);\n  };\n\n  const onClickFavorite = () => {\n    if (isFavorite === true) {\n      return removeFavorite();\n    }\n    return setFavoritos(objDetail[0], urlText, id, setIsFavorite);\n  };\n\n  return (\n    <input\n      className=\"favorite-btn\"\n      onClick={ () => onClickFavorite() }\n      type=\"image\"\n      data-testid=\"favorite-btn\"\n      src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n      alt=\"foto do item\"\n    />\n  );\n}\n\nFavoriteBtn.propTypes = {\n  objDetail: PropTypes.shape(\n    PropTypes.any,\n  ).isRequired,\n  urlText: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default FavoriteBtn;\n"]},"metadata":{},"sourceType":"module"}