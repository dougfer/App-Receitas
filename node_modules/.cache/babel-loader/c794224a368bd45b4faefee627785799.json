{"ast":null,"code":"var _jsxFileName = \"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/src/components/IngredientsCheckbox.js\";\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipeContext from '../context/RecipeContext';\n\nfunction IngredientsCheckbox({\n  objDetail,\n  id,\n  url\n}) {\n  const {\n    setVerifyCheckbox\n  } = useContext(RecipeContext);\n\n  const verifyIngredientsChecked = () => {\n    if (localStorage.getItem('inProgressRecipes') !== null) {\n      const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n      if (url.includes('comida')) {\n        return inProgressRecipes.meals[id];\n      }\n\n      if (url.includes('bebida')) {\n        return inProgressRecipes.cocktails[id];\n      }\n    } else {\n      return ['textoaleatorio'];\n    }\n  };\n\n  const verifyCheckbox = ({\n    target\n  }) => {\n    const array = [];\n    const arrayLi = target.parentNode.parentNode.parentNode.childNodes;\n    arrayLi.forEach(elem => {\n      const checkbox = elem.firstChild.firstChild;\n\n      if (checkbox.checked) {\n        array.push(true);\n      } else {\n        array.push(false);\n      }\n    }); // console.log(array);\n\n    setVerifyCheckbox(array);\n  };\n\n  const handleChange = ({\n    target\n  }) => {\n    const ol = target.parentNode.parentNode.parentNode;\n    const lista = ol.childNodes;\n    const listaDeIngredientes = []; // console.log(ol);\n\n    lista.forEach(elem => {\n      const checkbox = elem.firstChild.firstChild; // console.log(checkbox);\n\n      if (checkbox.checked) {\n        listaDeIngredientes.push(checkbox.id);\n      }\n    }); // console.log(listaDeIngredientes);\n\n    if (localStorage.getItem('inProgressRecipes') !== null) {\n      const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n\n      if (url.includes('comidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({ ...inProgressRecipes,\n          meals: { ...inProgressRecipes.meals,\n            [id]: listaDeIngredientes\n          }\n        }));\n      }\n\n      if (url.includes('bebidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({ ...inProgressRecipes,\n          cocktails: { ...inProgressRecipes.cocktails,\n            [id]: listaDeIngredientes\n          }\n        }));\n      }\n    } else {\n      if (url.includes('comidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({\n          meals: {\n            [id]: listaDeIngredientes\n          }\n        }));\n      }\n\n      if (url.includes('bebidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({\n          cocktails: {\n            [id]: listaDeIngredientes\n          }\n        }));\n      }\n    }\n\n    const SELECTED_LI = 'selected-li';\n\n    if (!target.checked) {\n      target.parentNode.classList.remove(SELECTED_LI);\n    } else {\n      target.parentNode.classList.add(SELECTED_LI);\n    }\n  };\n\n  const getIngredients = () => {\n    const ingredientes = Object.entries(objDetail[0]);\n    const measure = ingredientes.filter(elem => elem[0].includes('strMeasure') && elem[1] !== null && elem[1] !== '');\n    const filtering = ingredientes.filter(element => element[0].includes('strIngredient') && element[1] !== null && element[1] !== '');\n    const results = filtering.map((elem, index) => {\n      const isChecked = verifyIngredientsChecked().some(e => e === elem[1]);\n      return /*#__PURE__*/React.createElement(\"li\", {\n        name: \"li-ingredients\",\n        key: elem[1],\n        \"data-testid\": `${index}-ingredient-step`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: elem[1],\n        className: isChecked ? 'selected-li' : '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        defaultChecked: isChecked,\n        onChange: handleChange,\n        type: \"checkbox\",\n        id: elem[1],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }), elem[1], /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, measure[index] === undefined ? '' : measure[index][1])));\n    });\n    return results;\n  };\n\n  return /*#__PURE__*/React.createElement(\"ol\", {\n    onChange: verifyCheckbox,\n    className: \"ingredient-list\",\n    id: \"ingredient-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, getIngredients());\n}\n\nIngredientsCheckbox.propTypes = {\n  id: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  objDetail: PropTypes.shape(PropTypes.any).isRequired\n};\nexport default IngredientsCheckbox;","map":{"version":3,"sources":["/home/douglas/√Årea de Trabalho/Projetos em geral/App-Receitas/src/components/IngredientsCheckbox.js"],"names":["React","useContext","PropTypes","RecipeContext","IngredientsCheckbox","objDetail","id","url","setVerifyCheckbox","verifyIngredientsChecked","localStorage","getItem","inProgressRecipes","JSON","parse","includes","meals","cocktails","verifyCheckbox","target","array","arrayLi","parentNode","childNodes","forEach","elem","checkbox","firstChild","checked","push","handleChange","ol","lista","listaDeIngredientes","setItem","stringify","SELECTED_LI","classList","remove","add","getIngredients","ingredientes","Object","entries","measure","filter","filtering","element","results","map","index","isChecked","some","e","undefined","propTypes","string","isRequired","shape","any"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipeContext from '../context/RecipeContext';\n\nfunction IngredientsCheckbox({ objDetail, id, url }) {\n  const { setVerifyCheckbox } = useContext(RecipeContext);\n  const verifyIngredientsChecked = () => {\n    if (localStorage.getItem('inProgressRecipes') !== null) {\n      const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n      if (url.includes('comida')) {\n        return inProgressRecipes.meals[id];\n      }\n      if (url.includes('bebida')) {\n        return inProgressRecipes.cocktails[id];\n      }\n    } else { return ['textoaleatorio']; }\n  };\n\n  const verifyCheckbox = ({ target }) => {\n    const array = [];\n    const arrayLi = target.parentNode.parentNode.parentNode.childNodes;\n    arrayLi.forEach((elem) => {\n      const checkbox = elem.firstChild.firstChild;\n      if (checkbox.checked) {\n        array.push(true);\n      } else {\n        array.push(false);\n      }\n    });\n    // console.log(array);\n    setVerifyCheckbox(array);\n  };\n\n  const handleChange = ({ target }) => {\n    const ol = target.parentNode.parentNode.parentNode;\n    const lista = ol.childNodes;\n    const listaDeIngredientes = [];\n    // console.log(ol);\n\n    lista.forEach((elem) => {\n      const checkbox = elem.firstChild.firstChild;\n      // console.log(checkbox);\n      if (checkbox.checked) {\n        listaDeIngredientes.push(checkbox.id);\n      }\n    });\n\n    // console.log(listaDeIngredientes);\n    if (localStorage.getItem('inProgressRecipes') !== null) {\n      const inProgressRecipes = JSON.parse(localStorage.getItem('inProgressRecipes'));\n      if (url.includes('comidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({\n          ...inProgressRecipes,\n          meals: {\n            ...inProgressRecipes.meals,\n            [id]: listaDeIngredientes,\n          },\n        }));\n      }\n      if (url.includes('bebidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify({\n          ...inProgressRecipes,\n          cocktails: {\n            ...inProgressRecipes.cocktails,\n            [id]: listaDeIngredientes,\n          },\n        }));\n      }\n    } else {\n      if (url.includes('comidas')) {\n        localStorage.setItem(\n          'inProgressRecipes', JSON.stringify({ meals: { [id]: listaDeIngredientes } }),\n        );\n      }\n      if (url.includes('bebidas')) {\n        localStorage.setItem('inProgressRecipes', JSON.stringify(\n          { cocktails: { [id]: listaDeIngredientes } },\n        ));\n      }\n    }\n    const SELECTED_LI = 'selected-li';\n    if (!target.checked) {\n      target.parentNode.classList.remove(SELECTED_LI);\n    } else { target.parentNode.classList.add(SELECTED_LI); }\n  };\n  const getIngredients = () => {\n    const ingredientes = Object.entries(objDetail[0]);\n\n    const measure = ingredientes.filter((elem) => (\n      elem[0].includes('strMeasure') && elem[1] !== null && elem[1] !== ''\n    ));\n    const filtering = ingredientes.filter((element) => (\n      element[0].includes('strIngredient') && element[1] !== null && element[1] !== ''));\n\n    const results = filtering.map((elem, index) => {\n      const isChecked = verifyIngredientsChecked().some((e) => e === elem[1]);\n      return (\n        <li\n          name=\"li-ingredients\"\n          key={ elem[1] }\n          data-testid={ `${index}-ingredient-step` }\n        >\n          <label\n            htmlFor={ elem[1] }\n            className={ isChecked ? 'selected-li' : '' }\n          >\n            <input\n              defaultChecked={ isChecked }\n              onChange={ handleChange }\n              type=\"checkbox\"\n              id={ elem[1] }\n            />\n            {elem[1]}\n            <span>{measure[index] === undefined ? '' : measure[index][1]}</span>\n          </label>\n        </li>);\n    });\n\n    return results;\n  };\n\n  return (\n    <ol\n      onChange={ verifyCheckbox }\n      className=\"ingredient-list\"\n      id=\"ingredient-list\"\n    >\n      {getIngredients()}\n    </ol>\n  );\n}\n\nIngredientsCheckbox.propTypes = {\n  id: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  objDetail: PropTypes.shape(\n    PropTypes.any,\n  ).isRequired,\n};\n\nexport default IngredientsCheckbox;\n"]},"metadata":{},"sourceType":"module"}