{"ast":null,"code":"import _regeneratorRuntime from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{useHistory}from'react-router-dom';import{CopyToClipboard}from'react-copy-to-clipboard';import RecipeContext from'../context/RecipeContext';import'../styles/Detalhes.css';import shareIcon from\"../images/shareIcon.svg\";import Loading from'../components/Loading';import RecommendedList from'../components/RecommendedList';import ButtonIniciar from'../components/ButtonIniciar';import HandleYoutube from'../services/HandleYoutube';import LinkCopiado from'../components/LinkCopiado';import FavoriteBtn from'../components/FavoriteBtn';function Detalhes(){var history=useHistory();var urlText=history.location.pathname;var id=urlText.split('s/')[1];var TWO_SECONDS=2000;var _useContext=useContext(RecipeContext),setShouldRedirect=_useContext.setShouldRedirect,addStartedRecipes=_useContext.addStartedRecipes,recommendedFood=_useContext.recommendedFood,recommendedDrink=_useContext.recommendedDrink,setRecommendedFood=_useContext.setRecommendedFood,setRecommendedDrink=_useContext.setRecommendedDrink,setCopied=_useContext.setCopied;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),objDetail=_useState2[0],setObjDetail=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var requestRecommendedFood=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;setRecommendedFood(result.meals);case 7:case\"end\":return _context.stop();}}},_callee);}));return function requestRecommendedFood(){return _ref.apply(this,arguments);};}();var requestRecommendedDrink=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://www.thecocktaildb.com/api/json/v1/1/search.php?s=');case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;setRecommendedDrink(result.drinks);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function requestRecommendedDrink(){return _ref2.apply(this,arguments);};}();var requestByID=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,responseJson,_responseJson;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:response=[];if(!urlText.includes('bebidas')){_context3.next=11;break;}_context3.next=4;return fetch(\"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\".concat(id));case 4:response=_context3.sent;_context3.next=7;return response.json();case 7:responseJson=_context3.sent;_context3.next=10;return setObjDetail(responseJson.drinks);case 10:requestRecommendedFood();case 11:if(!urlText.includes('comidas')){_context3.next=21;break;}_context3.next=14;return fetch(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\".concat(id));case 14:response=_context3.sent;_context3.next=17;return response.json();case 17:_responseJson=_context3.sent;_context3.next=20;return setObjDetail(_responseJson.meals);case 20:requestRecommendedDrink();case 21:setTimeout(function(){setLoading(false);},TWO_SECONDS);case 22:case\"end\":return _context3.stop();}}},_callee3);}));return function requestByID(){return _ref3.apply(this,arguments);};}();var handleCopied=function handleCopied(){setCopied(true);setTimeout(function(){setCopied(false);},TWO_SECONDS);};var getIngredients=function getIngredients(){var ingredientes=Object.entries(objDetail[0]);var measure=ingredientes.filter(function(elem){return elem[0].includes('strMeasure')&&elem[1]!==null&&elem[1]!=='';});var filtering=ingredientes.filter(function(element){return element[0].includes('strIngredient')&&element[1]!==null&&element[1]!=='';});var results=filtering.map(function(elem,index){return/*#__PURE__*/React.createElement(\"li\",{key:elem[1],\"data-testid\":\"\".concat(index,\"-ingredient-name-and-measure\")},elem[1],/*#__PURE__*/React.createElement(\"span\",null,measure[index]===undefined?'':measure[index][1]));});return results;};useEffect(function(){requestByID();setShouldRedirect(false);},[history.location.pathname]);var renderDrink=function renderDrink(){return/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},/*#__PURE__*/React.createElement(\"h1\",{\"data-testid\":\"recipe-category\"},\"\".concat(objDetail[0].strCategory,\" (\").concat(objDetail[0].strAlcoholic,\")\")),/*#__PURE__*/React.createElement(\"h2\",{\"data-testid\":\"recipe-title\"},objDetail[0].strDrink),/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"recipe-photo\",className:\"food-image\",src:objDetail[0].strDrinkThumb,alt:objDetail[0].strDrink}),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},/*#__PURE__*/React.createElement(LinkCopiado,null),/*#__PURE__*/React.createElement(CopyToClipboard,{text:\"http://localhost:3000\".concat(urlText),onCopy:handleCopied},/*#__PURE__*/React.createElement(\"input\",{className:\"share-btn\",type:\"image\",\"data-testid\":\"share-btn\",src:shareIcon,alt:objDetail[0].strDrink})),/*#__PURE__*/React.createElement(FavoriteBtn,{urlText:urlText,objDetail:objDetail,id:id})),/*#__PURE__*/React.createElement(\"ol\",{className:\"ingredient-list\"},getIngredients()),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"instructions\"},objDetail[0].strInstructions),/*#__PURE__*/React.createElement(RecommendedList,{value:recommendedFood}),/*#__PURE__*/React.createElement(ButtonIniciar,{onClick:function onClick(){return addStartedRecipes(id);},id:id,objDetail:objDetail}));};var renderFood=function renderFood(){return/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},/*#__PURE__*/React.createElement(\"h1\",{\"data-testid\":\"recipe-category\"},objDetail[0].strCategory),/*#__PURE__*/React.createElement(\"h2\",{\"data-testid\":\"recipe-title\"},objDetail[0].strMeal),/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":\"recipe-photo\",src:objDetail[0].strMealThumb,alt:objDetail[0].strMeal}),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},/*#__PURE__*/React.createElement(LinkCopiado,null),/*#__PURE__*/React.createElement(CopyToClipboard,{text:\"http://localhost:3000\".concat(urlText),onCopy:function onCopy(){handleCopied();}},/*#__PURE__*/React.createElement(\"input\",{type:\"image\",\"data-testid\":\"share-btn\",src:shareIcon,alt:objDetail[0].strMeal})),/*#__PURE__*/React.createElement(FavoriteBtn,{urlText:urlText,objDetail:objDetail,id:id})),/*#__PURE__*/React.createElement(\"ol\",{className:\"ingredient-list\"},getIngredients()),/*#__PURE__*/React.createElement(\"iframe\",{\"data-testid\":\"video\",width:\"300px\",height:\"200px\",src:HandleYoutube(objDetail[0]),title:\"YouTube video player\"}),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"instructions\"},objDetail[0].strInstructions),/*#__PURE__*/React.createElement(RecommendedList,{value:recommendedDrink}),/*#__PURE__*/React.createElement(ButtonIniciar,{onClick:function onClick(){return addStartedRecipes(id);},id:id,objDetail:objDetail}));};var render=function render(){var value=history.location.pathname;console.log(Object.keys(objDetail[0]));if(value.includes('comidas')){return renderFood();}if(value.includes('bebidas')){return renderDrink();}};return/*#__PURE__*/React.createElement(\"div\",null,loading?/*#__PURE__*/React.createElement(Loading,null):render());}export default Detalhes;","map":{"version":3,"sources":["/home/douglas/Ãrea de Trabalho/Projetos em geral/App-Receitas/src/Pages/Detalhes.js"],"names":["React","useEffect","useState","useContext","useHistory","CopyToClipboard","RecipeContext","Loading","RecommendedList","ButtonIniciar","HandleYoutube","LinkCopiado","FavoriteBtn","Detalhes","history","urlText","location","pathname","id","split","TWO_SECONDS","setShouldRedirect","addStartedRecipes","recommendedFood","recommendedDrink","setRecommendedFood","setRecommendedDrink","setCopied","objDetail","setObjDetail","loading","setLoading","requestRecommendedFood","fetch","response","json","result","meals","requestRecommendedDrink","drinks","requestByID","includes","responseJson","setTimeout","handleCopied","getIngredients","ingredientes","Object","entries","measure","filter","elem","filtering","element","results","map","index","undefined","renderDrink","strCategory","strAlcoholic","strDrink","strDrinkThumb","shareIcon","strInstructions","renderFood","strMeal","strMealThumb","render","value","console","log","keys"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport RecipeContext from '../context/RecipeContext';\nimport '../styles/Detalhes.css';\nimport shareIcon from '../images/shareIcon.svg';\nimport Loading from '../components/Loading';\nimport RecommendedList from '../components/RecommendedList';\nimport ButtonIniciar from '../components/ButtonIniciar';\nimport HandleYoutube from '../services/HandleYoutube';\nimport LinkCopiado from '../components/LinkCopiado';\nimport FavoriteBtn from '../components/FavoriteBtn';\n\nfunction Detalhes() {\n  const history = useHistory();\n  const urlText = history.location.pathname;\n  const id = urlText.split('s/')[1];\n  const TWO_SECONDS = 2000;\n\n  const { setShouldRedirect, addStartedRecipes,\n    recommendedFood, recommendedDrink, setRecommendedFood,\n    setRecommendedDrink, setCopied } = useContext(RecipeContext);\n\n  const [objDetail, setObjDetail] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const requestRecommendedFood = async () => {\n    const response = await fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setRecommendedFood(result.meals);\n  };\n\n  const requestRecommendedDrink = async () => {\n    const response = await fetch('https://www.thecocktaildb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setRecommendedDrink(result.drinks);\n  };\n\n  const requestByID = async () => {\n    let response = [];\n    if (urlText.includes('bebidas')) {\n      response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const responseJson = await response.json();\n      await setObjDetail(responseJson.drinks);\n      requestRecommendedFood();\n    }\n    if (urlText.includes('comidas')) {\n      response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n      const responseJson = await response.json();\n      await setObjDetail(responseJson.meals);\n      requestRecommendedDrink();\n    }\n    setTimeout(() => {\n      setLoading(false);\n    }, TWO_SECONDS);\n  };\n\n  const handleCopied = () => {\n    setCopied(true);\n    setTimeout(() => {\n      setCopied(false);\n    }, TWO_SECONDS);\n  };\n\n  const getIngredients = () => {\n    const ingredientes = Object.entries(objDetail[0]);\n\n    const measure = ingredientes.filter((elem) => (\n      elem[0].includes('strMeasure') && elem[1] !== null && elem[1] !== ''\n    ));\n    const filtering = ingredientes.filter((element) => (\n      element[0].includes('strIngredient') && element[1] !== null && element[1] !== ''));\n\n    const results = filtering.map((elem, index) => (\n      <li\n        key={ elem[1] }\n        data-testid={ `${index}-ingredient-name-and-measure` }\n      >\n        {elem[1]}\n        <span>{measure[index] === undefined ? '' : measure[index][1]}</span>\n      </li>));\n\n    return results;\n  };\n\n  useEffect(() => {\n    requestByID();\n    setShouldRedirect(false);\n  }, [history.location.pathname]);\n\n  const renderDrink = () => (\n    <div className=\"details\">\n      <h1\n        data-testid=\"recipe-category\"\n      >\n        {`${objDetail[0].strCategory} (${objDetail[0].strAlcoholic})`}\n      </h1>\n      <h2 data-testid=\"recipe-title\">{objDetail[0].strDrink}</h2>\n      <img\n        data-testid=\"recipe-photo\"\n        className=\"food-image\"\n        src={ objDetail[0].strDrinkThumb }\n        alt={ objDetail[0].strDrink }\n      />\n      <div className=\"icons\">\n        <LinkCopiado />\n        <CopyToClipboard\n          text={ `http://localhost:3000${urlText}` }\n          onCopy={ handleCopied }\n        >\n          <input\n            className=\"share-btn\"\n            type=\"image\"\n            data-testid=\"share-btn\"\n            src={ shareIcon }\n            alt={ objDetail[0].strDrink }\n          />\n        </CopyToClipboard>\n        <FavoriteBtn urlText={ urlText } objDetail={ objDetail } id={ id } />\n      </div>\n      <ol className=\"ingredient-list\">\n        { getIngredients() }\n      </ol>\n      <p data-testid=\"instructions\">{objDetail[0].strInstructions}</p>\n      <RecommendedList value={ recommendedFood } />\n      <ButtonIniciar\n        onClick={ () => addStartedRecipes(id) }\n        id={ id }\n        objDetail={ objDetail }\n      />\n    </div>\n  );\n\n  const renderFood = () => (\n    <div className=\"details\">\n      <h1 data-testid=\"recipe-category\">{objDetail[0].strCategory}</h1>\n      <h2 data-testid=\"recipe-title\">{objDetail[0].strMeal}</h2>\n      <img\n        data-testid=\"recipe-photo\"\n        src={ objDetail[0].strMealThumb }\n        alt={ objDetail[0].strMeal }\n      />\n      <div className=\"icons\">\n        <LinkCopiado />\n        <CopyToClipboard\n          text={ `http://localhost:3000${urlText}` }\n          onCopy={ () => {\n            handleCopied();\n          } }\n        >\n          <input\n            type=\"image\"\n            data-testid=\"share-btn\"\n            src={ shareIcon }\n            alt={ objDetail[0].strMeal }\n          />\n        </CopyToClipboard>\n        <FavoriteBtn urlText={ urlText } objDetail={ objDetail } id={ id } />\n      </div>\n      <ol className=\"ingredient-list\">\n        { getIngredients() }\n      </ol>\n      <iframe\n        data-testid=\"video\"\n        width=\"300px\"\n        height=\"200px\"\n        src={ HandleYoutube(objDetail[0]) }\n        title=\"YouTube video player\"\n      />\n      <p data-testid=\"instructions\">{objDetail[0].strInstructions}</p>\n      <RecommendedList value={ recommendedDrink } />\n      <ButtonIniciar\n        onClick={ () => addStartedRecipes(id) }\n        id={ id }\n        objDetail={ objDetail }\n      />\n    </div>\n  );\n\n  const render = () => {\n    const value = history.location.pathname;\n    console.log(Object.keys(objDetail[0]));\n    if (value.includes('comidas')) {\n      return renderFood();\n    }\n    if (value.includes('bebidas')) {\n      return renderDrink();\n    }\n  };\n\n  return (\n    <div>\n      {loading ? <Loading /> : render()}\n    </div>\n  );\n}\n\nexport default Detalhes;\n"]},"metadata":{},"sourceType":"module"}