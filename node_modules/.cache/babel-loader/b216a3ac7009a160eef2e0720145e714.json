{"ast":null,"code":"import _slicedToArray from\"/home/douglas/\\xC1rea de Trabalho/Projetos em geral/App-Receitas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import Footer from'../../components/Footer';import Header from'../../components/Header';import RecipesList from'../../components/RecipesList';import RecipeContext from'../../context/RecipeContext';function ExpComidasArea(){var _useContext=useContext(RecipeContext),directRequestFood=_useContext.directRequestFood,setFilterByArea=_useContext.setFilterByArea,setMeals=_useContext.setMeals,filterByArea=_useContext.filterByArea;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),areas=_useState2[0],setAreas=_useState2[1];var fetchListArea=function fetchListArea(){fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list').then(function(response){return response.json();}).then(function(data){return setAreas(data.meals);});};var filterByAreas=function filterByAreas(_ref){var target=_ref.target;if(target.value==='All'){directRequestFood();}else{setFilterByArea(target.value);fetch(\"https://www.themealdb.com/api/json/v1/1/filter.php?a=\".concat(target.value)).then(function(response){return response.json();}).then(function(data){return setMeals(data.meals);});}};useEffect(function(){directRequestFood();fetchListArea();return setFilterByArea('All');},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"comidas-body explore-big\"},/*#__PURE__*/React.createElement(Header,{title:\"Explorar Origem\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-area\"},/*#__PURE__*/React.createElement(\"select\",{value:filterByArea,\"data-testid\":\"explore-by-area-dropdown\",className:\"dropdown-areas\"// onChange={ ({ target }) => setFilterByArea(target.value) }\n,onChange:filterByAreas},/*#__PURE__*/React.createElement(\"option\",{\"data-testid\":\"All-option\"},\"All\"),areas.map(function(_ref2,i){var strArea=_ref2.strArea;return/*#__PURE__*/React.createElement(\"option\",{key:i,\"data-testid\":\"\".concat(strArea,\"-option\")},strArea);}))),/*#__PURE__*/React.createElement(RecipesList,null),/*#__PURE__*/React.createElement(Footer,null));}export default ExpComidasArea;","map":{"version":3,"sources":["/home/douglas/Ãrea de Trabalho/Projetos em geral/App-Receitas/src/Pages/Explorar/ExpComidasArea.js"],"names":["React","useContext","useEffect","useState","Footer","Header","RecipesList","RecipeContext","ExpComidasArea","directRequestFood","setFilterByArea","setMeals","filterByArea","areas","setAreas","fetchListArea","fetch","then","response","json","data","meals","filterByAreas","target","value","map","i","strArea"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CAEA,QAASC,CAAAA,cAAT,EAA0B,iBAGKP,UAAU,CAACM,aAAD,CAHf,CAEtBE,iBAFsB,aAEtBA,iBAFsB,CAEHC,eAFG,aAEHA,eAFG,CAGtBC,QAHsB,aAGtBA,QAHsB,CAGZC,YAHY,aAGZA,YAHY,eAIET,QAAQ,CAAC,EAAD,CAJV,wCAIjBU,KAJiB,eAIVC,QAJU,eAMxB,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BC,KAAK,CAAC,yDAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAUN,CAAAA,QAAQ,CAACM,IAAI,CAACC,KAAN,CAAlB,EAFR,EAGD,CAJD,CAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAgB,IAAbC,CAAAA,MAAa,MAAbA,MAAa,CACpC,GAAIA,MAAM,CAACC,KAAP,GAAiB,KAArB,CAA4B,CAC1Bf,iBAAiB,GAClB,CAFD,IAEO,CACLC,eAAe,CAACa,MAAM,CAACC,KAAR,CAAf,CACAR,KAAK,gEAAyDO,MAAM,CAACC,KAAhE,EAAL,CACGP,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAUT,CAAAA,QAAQ,CAACS,IAAI,CAACC,KAAN,CAAlB,EAFR,EAGD,CACF,CATD,CAWAnB,SAAS,CAAC,UAAM,CACdO,iBAAiB,GACjBM,aAAa,GAEb,MAAOL,CAAAA,eAAe,CAAC,KAAD,CAAtB,CACD,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,iBAAd,EADF,cAEE,2BAAK,SAAS,CAAC,cAAf,eACE,8BACE,KAAK,CAAGE,YADV,CAEE,cAAY,0BAFd,CAGE,SAAS,CAAC,gBACV;AAJF,CAKE,QAAQ,CAAGU,aALb,eAOE,8BAAQ,cAAY,YAApB,QAPF,CAQGT,KAAK,CAACY,GAAN,CAAU,eAAcC,CAAd,KAAGC,CAAAA,OAAH,OAAGA,OAAH,oBACT,8BAAQ,GAAG,CAAGD,CAAd,CAAkB,wBAAiBC,OAAjB,WAAlB,EAAuDA,OAAvD,CADS,EAAV,CARH,CADF,CAFF,cAgBE,oBAAC,WAAD,MAhBF,cAiBE,oBAAC,MAAD,MAjBF,CADF,CAqBD,CAED,cAAenB,CAAAA,cAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport Footer from '../../components/Footer';\nimport Header from '../../components/Header';\nimport RecipesList from '../../components/RecipesList';\nimport RecipeContext from '../../context/RecipeContext';\n\nfunction ExpComidasArea() {\n  const {\n    directRequestFood, setFilterByArea,\n    setMeals, filterByArea } = useContext(RecipeContext);\n  const [areas, setAreas] = useState([]);\n\n  const fetchListArea = () => {\n    fetch('https://www.themealdb.com/api/json/v1/1/list.php?a=list')\n      .then((response) => response.json())\n      .then((data) => setAreas(data.meals));\n  };\n\n  const filterByAreas = ({ target }) => {\n    if (target.value === 'All') {\n      directRequestFood();\n    } else {\n      setFilterByArea(target.value);\n      fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${target.value}`)\n        .then((response) => response.json())\n        .then((data) => setMeals(data.meals));\n    }\n  };\n\n  useEffect(() => {\n    directRequestFood();\n    fetchListArea();\n\n    return setFilterByArea('All');\n  }, []);\n\n  return (\n    <div className=\"comidas-body explore-big\">\n      <Header title=\"Explorar Origem\" />\n      <div className=\"explore-area\">\n        <select\n          value={ filterByArea }\n          data-testid=\"explore-by-area-dropdown\"\n          className=\"dropdown-areas\"\n          // onChange={ ({ target }) => setFilterByArea(target.value) }\n          onChange={ filterByAreas }\n        >\n          <option data-testid=\"All-option\">All</option>\n          {areas.map(({ strArea }, i) => (\n            <option key={ i } data-testid={ `${strArea}-option` }>{strArea}</option>\n          ))}\n        </select>\n      </div>\n      <RecipesList />\n      <Footer />\n    </div>\n  );\n}\n\nexport default ExpComidasArea;\n"]},"metadata":{},"sourceType":"module"}