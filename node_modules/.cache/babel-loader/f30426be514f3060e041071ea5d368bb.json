{"ast":null,"code":"var _jsxFileName = \"/home/douglas/\\xC1rea de Trabalho/Trybe/trybe-exercises/Projetos/FrontEnd/sd-08-project-recipes-app/src/context/Provider.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipeContext from './RecipeContext';\n\nfunction Provider({\n  children\n}) {\n  const [meals, setMeals] = useState([]);\n  const [isDrinkLoading, setIsDrinkLoading] = useState(false);\n  const [shouldRedirect, setShouldRedirect] = useState(false);\n  const [searchType, setSearchType] = useState('ingrediente');\n  const [searchInputValue, setSearchInputValue] = useState('');\n\n  const searchBarRequestFood = async (type, inputvalue) => {\n    try {\n      let response = '';\n\n      if (type === 'ingrediente') {\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${inputvalue}`);\n      }\n\n      if (type === 'nome') {\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${inputvalue}`);\n      }\n\n      if (type === 'primeira letra') {\n        if (inputvalue.length !== 1) {\n          return alert('Sua busca deve conter somente 1 (um) caracter');\n        }\n\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?f=${inputvalue}`);\n      }\n\n      const responseJson = await response.json();\n      console.log(responseJson);\n\n      if (responseJson.meals === null) {\n        throw new Error('Nao existem receitas');\n      }\n\n      setMeals(responseJson.meals);\n    } catch (error) {\n      console.log(error.message);\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n      return error;\n    }\n  };\n\n  const searchBarRequestDrink = async (type, inputvalue) => {\n    try {\n      let response = '';\n\n      if (type === 'ingrediente') {\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${inputvalue}`);\n      }\n\n      if (type === 'nome') {\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${inputvalue}`);\n      }\n\n      if (type === 'primeira letra') {\n        if (inputvalue.length !== 1) {\n          return alert('Sua busca deve conter somente 1 (um) caracter');\n        }\n\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?f=${inputvalue}`);\n      }\n\n      const responseJson = await response.json();\n\n      if (responseJson.drinks === null) {\n        throw new Error('Nao existem receitas');\n      }\n\n      setMeals(responseJson.drinks);\n    } catch (error) {\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n      return error;\n    }\n  };\n\n  const directRequestFood = async () => {\n    const response = await fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setMeals(result.meals);\n  };\n\n  const directRequestDrink = async () => {\n    setIsDrinkLoading(true);\n    const response = await fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setMeals(result.drinks);\n  };\n\n  useEffect(() => {\n    setShouldRedirect(true);\n  }, [meals]);\n  useEffect(() => {\n    directRequestFood();\n  }, []);\n  const context = {\n    isDrinkLoading,\n    setIsDrinkLoading,\n    setShouldRedirect,\n    directRequestDrink,\n    setSearchType,\n    searchType,\n    setSearchInputValue,\n    searchInputValue,\n    searchBarRequestDrink,\n    searchBarRequestFood,\n    meals,\n    shouldRedirect\n  };\n  return /*#__PURE__*/React.createElement(RecipeContext.Provider, {\n    value: context,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, children);\n}\n\nProvider.propTypes = {\n  children: PropTypes.objectOf(PropTypes.any).isRequired\n};\nexport default Provider;","map":{"version":3,"sources":["/home/douglas/Área de Trabalho/Trybe/trybe-exercises/Projetos/FrontEnd/sd-08-project-recipes-app/src/context/Provider.js"],"names":["React","useState","useEffect","PropTypes","RecipeContext","Provider","children","meals","setMeals","isDrinkLoading","setIsDrinkLoading","shouldRedirect","setShouldRedirect","searchType","setSearchType","searchInputValue","setSearchInputValue","searchBarRequestFood","type","inputvalue","response","fetch","length","alert","responseJson","json","console","log","Error","error","message","searchBarRequestDrink","drinks","directRequestFood","result","directRequestDrink","context","propTypes","objectOf","any","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipeContext from './RecipeContext';\n\nfunction Provider({ children }) {\n  const [meals, setMeals] = useState([]);\n  const [isDrinkLoading, setIsDrinkLoading] = useState(false);\n  const [shouldRedirect, setShouldRedirect] = useState(false);\n  const [searchType, setSearchType] = useState('ingrediente');\n  const [searchInputValue, setSearchInputValue] = useState('');\n\n  const searchBarRequestFood = async (type, inputvalue) => {\n    try {\n      let response = '';\n      if (type === 'ingrediente') {\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${inputvalue}`);\n      }\n      if (type === 'nome') {\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${inputvalue}`);\n      }\n      if (type === 'primeira letra') {\n        if (inputvalue.length !== 1) {\n          return alert('Sua busca deve conter somente 1 (um) caracter');\n        }\n        response = await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?f=${inputvalue}`);\n      }\n      const responseJson = await response.json();\n      console.log(responseJson);\n      if (responseJson.meals === null) {\n        throw new Error('Nao existem receitas');\n      }\n      setMeals(responseJson.meals);\n    } catch (error) {\n      console.log(error.message);\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n      return error;\n    }\n  };\n\n  const searchBarRequestDrink = async (type, inputvalue) => {\n    try {\n      let response = '';\n      if (type === 'ingrediente') {\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=${inputvalue}`);\n      }\n      if (type === 'nome') {\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${inputvalue}`);\n      }\n      if (type === 'primeira letra') {\n        if (inputvalue.length !== 1) {\n          return alert('Sua busca deve conter somente 1 (um) caracter');\n        }\n        response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?f=${inputvalue}`);\n      }\n      const responseJson = await response.json();\n      if (responseJson.drinks === null) {\n        throw new Error('Nao existem receitas');\n      }\n      setMeals(responseJson.drinks);\n    } catch (error) {\n      alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n      return error;\n    }\n  };\n\n  const directRequestFood = async () => {\n    const response = await fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setMeals(result.meals);\n  };\n\n  const directRequestDrink = async () => {\n    setIsDrinkLoading(true);\n    const response = await fetch('https://www.themealdb.com/api/json/v1/1/search.php?s=');\n    const result = await response.json();\n    setMeals(result.drinks);\n  };\n\n  useEffect(() => {\n    setShouldRedirect(true);\n  }, [meals]);\n\n  useEffect(() => {\n    directRequestFood();\n  }, []);\n\n  const context = {\n    isDrinkLoading,\n    setIsDrinkLoading,\n    setShouldRedirect,\n    directRequestDrink,\n    setSearchType,\n    searchType,\n    setSearchInputValue,\n    searchInputValue,\n    searchBarRequestDrink,\n    searchBarRequestFood,\n    meals,\n    shouldRedirect,\n  };\n\n  return (\n    <RecipeContext.Provider value={ context }>\n      {children}\n    </RecipeContext.Provider>\n  );\n}\n\nProvider.propTypes = {\n  children: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default Provider;\n"]},"metadata":{},"sourceType":"module"}